var AVP={supported:(function(){var a=navigator.userAgent.toLowerCase();if(a.match(/chrome\/(1|2|3|4)\./)){return 0}if(a.match(/opera(\s|\/)(4|5|6|7)\./)){return 0}if(a.indexOf("(khtml, like gecko) safari/")!=-1){return 0}if(!window.XMLHttpRequest&&a.indexOf("msie 6")==-1){return 0}return 1})(),callbacks:[],callback:function(a){if(a&&this.callbacks&&this.callbacks[a]){var b=this.callbacks[a]["callback"];b(this.callbacks[a])}},single:function(f,b){var e=this.base(b);var d=this.opts(b);if(b.iframe&&!b.refresh){var g=document.getElementById(b.tagid);g.innerHTML='<iframe id="'+b.tagid+'_iframe" src="'+e+"/servlet/view/"+b.type+"/javascript/html/"+f+d+'" style="width: '+b.width+"px; height: "+b.height+'px; border: 0px; margin: 0; padding: 0; vertical-align: bottom" scrolling="no"></iframe>'}else{if(b.type=="pagepeel"||b.type=="wallpaper"||b.type=="window"){var c=document.createElement("script");c.type="text/javascript";c.src=e+"/servlet/view/"+b.type+"/javascript/ajax/"+f+d;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)}else{if(this.supported){this.loadCrossDomain(e+"/servlet/view/"+b.type+"/javascript/ajax/crossdomain/"+f+d);if(b.refresh&&b.refresh_limit>0){b.refresh_limit-=1;setTimeout(function(){var k=document.getElementById(b.tagid);k.innerHTML="";if(AVP.viewabilityRegistry){var j=AVP.viewabilityRegistry.length;for(var i=0;i<j;i++){var h=AVP.viewabilityRegistry[i];if((h.parentTagId&&h.parentTagId==b.tagid)||(h.tagId&&h.tagId==b.tagid)){h.disableViewableTimeTracking()}}}_avp.push(b);AVP.load(b.uuid)},(b.refresh*1000))}}else{if(b.type=="banner"){var g=document.getElementById(b.tagid);g.innerHTML='<a href="'+e+"/servlet/click/"+f+"&lookup=true"+d+'" rel="nofollow" target="_blank"><img src="'+e+"/servlet/view/"+b.type+"/javascript/image/"+f+d+'" style="width: '+b.width+"px; height: "+b.width+'px; border: 0px; margin: 0; padding: 0" alt="Click Here!"></a>'}}}}},multi:function(a){if(this.supported){var c=this.base(a);var b=this.opts(a);this.loadCrossDomain(c+"/servlet/view/"+a.type+"/unique/javascript/ajax/crossdomain/"+a.renderer+"?zid="+a.zid+"&total="+a.total+((a.renderer!="grid")?"&layout="+a.layout:"&columns="+a.columns)+"&padding="+parseInt(a.padding||0)+"&margin="+parseInt(a.margin||0)+b)}},loadCrossDomain:function(b){var c=document.createElement("script");c.type="text/javascript";c.src=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)},resizeIFRAME:function(e){var c=document.getElementById(e);var j=document.getElementById(e+"_iframe");var i=navigator.userAgent.toLowerCase();if(c&&j){var g=(j.contentWindow)?j.contentWindow.document:(j.contentDocument||j.document);j.style.width=0;j.style.height=0;g.body.style.border=0;g.body.style.margin=0;g.body.style.padding=0;if((i.match(/msie\s(6|7|8)/)&&i.indexOf("opera")==-1)||!g.body.scrollWidth){g.bgColor=document.bgColor;var d=g.getElementsByTagName("*");var l=",APPLET,B,BLOCKQUOTE,CODE,DIV,EM,EMBED,FORM,H1,H2,H3,H4,H5,H6,HR,I,IFRAME,IMG,MAP,OBJECT,OL,P,PRE,SPAN,TABLE,U,UL,";var k=0,p=0;for(var o=0;o<d.length;o++){var f=d[o];if(l.indexOf(","+f.nodeName+",")!=-1){if(f.offsetWidth==f.clientWidth&&f.offsetWidth>p){p=f.offsetWidth}if((f.offsetHeight==f.clientHeight||(f.scrollHeight&&f.offsetHeight==f.scrollHeight))&&f.offsetHeight>k){k=f.offsetHeight}}}j.style.width=p;j.style.height=k}else{j.style.width="0px";j.style.height="0px";var d=g.getElementsByTagName("IMG");for(var m=0;m<d.length;m++){d[m].style.display="block"}g.body.style.backgroundColor="transparent";j.style.width=g.body.scrollWidth+"px";j.style.height=g.body.scrollHeight+"px"}}},inject:function(tagid,code,append,evaluate){var div=document.getElementById(tagid);if(append){var innerDiv=document.createElement("div");innerDiv.innerHTML=code;div.appendChild(innerDiv)}else{div.innerHTML=code}var agent=navigator.userAgent.toLowerCase();if(evaluate&&(!append||!agent.match(/firefox\/(1|2|3)\./))){var startTag=new RegExp("(<script[^>]+javascript[^>]+>s*(<!--)?)","i");var srcAttr=new RegExp('src="(.*?)"');var endTag=new RegExp("((-->)?s*<\/script>)","i");var st,et,block;while((st=startTag.exec(code))){if(st[0].indexOf("src=")!=-1){var src=srcAttr.exec(st[0]);if(src[1]){var s=document.createElement("script");s.type="text/javascript";s.src=src[1];var x=document.getElementsByTagName("script")[0];x.parentNode.insertBefore(s,x)}code=code.substring(code.indexOf(st[0])+st[0].length);if(!(et=endTag.exec(code))){break}block=code.substr(0,code.indexOf(et[0]));code=code.substring(block.length+et[0].length)}else{code=code.substring(code.indexOf(st[0])+st[0].length);if(!(et=endTag.exec(code))){break}block=code.substr(0,code.indexOf(et[0]));code=code.substring(block.length+et[0].length);try{eval(block)}catch(err){}}}}},isolate:function(b){var a=document.createElement("iframe");a.setAttribute("style","display:none; visibility:hidden; position:absolute; left:-1000px");document.body.appendChild(a);var c=(a.contentWindow)?a.contentWindow.document:(a.contentDocument||a.document);c.open();c.write(b);c.close()},escape:function(a){return(!a.indexOf||(a.indexOf("+")==-1&&a.indexOf("%")==-1))?((encodeURIComponent)?encodeURIComponent(a):escape(a)):a},base:function(b){var d=window.location.protocol+"//"+((!b||!b.domain)?document.domain:b.domain)+((!b||!b.alias)?"":(b.alias!="/"?b.alias:""));var a=document.getElementsByTagName("script");for(var c=0;c<a.length;c++){var e=a[c].getAttribute("src");if(e&&e.indexOf("/js/libcode3")!=-1){d=e.substring(0,e.indexOf("/js/libcode3"))}}return d},opts:function(b){var d="";if(b.pid){d+="&pid="+b.pid}if(b.sid){d+="&sid="+b.sid}if(b.uuid){d+="&uuid="+b.uuid}if(b.tagid){d+="&tagid="+b.tagid}if(b.tagid&&b.callback&&typeof b.callback==="function"){this.callbacks[b.tagid]=b;d+="&callback=true"}if(b.contextual){d+="&contextual="+b.contextual}if(b.crawler){d+="&crawler="+b.crawler;if(b.align){d+="&align="+b.align}if(b.closeable){d+="&closeable="+b.closeable}if(b.polite){d+="&polite="+b.polite}if(b.spacing){d+="&spacing="+b.spacing}if(b.bgcolor){d+="&bgcolor="+this.escape(b.bgcolor)}}for(var g=1;g<=10;g++){if(b["custom"+g]){d+="&custom"+g+"="+this.escape(b["custom"+g])}}if(b.echo){d+="&echo="+b.echo;var a=b.echo.split(",");for(var f=0;f<a.length;f++){if(b[a[f]]){d+="&"+a[f]+"="+this.escape(b[a[f]])}}}if(b.keywords){d+="&keywords="+this.escape(b.keywords)}if(b.language){d+="&language="+this.escape(b.language)}if(b.lightbox){d+="&lightbox="+b.lightbox;if(b.autoclose){d+="&autoclose="+b.autoclose}if(b.polite){d+="&polite="+b.polite}}if(b.overlay){d+="&overlay="+b.overlay;if(b.autoclose){d+="&autoclose="+b.autoclose}if(b.polite){d+="&polite="+b.polite}if(b.spacing){d+="&spacing="+b.spacing}if(b.bgcolor){d+="&bgcolor="+this.escape(b.bgcolor)}}if(b.click){d+="&click="+b.click}if(b.exit){d+="&exit="+b.exit}if(b.include){d+="&include="+b.include}if(b.exclude){d+="&exclude="+b.exclude}if(b.timeout){d+="&timeout="+b.timeout}if(b.type=="pagepeel"){if(b.anchor){d+="&anchor="+this.escape(b.anchor)}if(b.color1){d+="&color1="+this.escape(b.color1)}if(b.color2){d+="&color2="+this.escape(b.color2)}}if(b.shoutbox){d+="&shoutbox="+b.shoutbox;if(b.align){d+="&align="+b.align}if(b.closeable){d+="&closeable="+b.closeable}if(b.polite){d+="&polite="+b.polite}}d+="&resolution="+(window.innerWidth||screen.width)+"x"+(window.innerHeight||screen.height);d+="&random="+Math.floor(89999999*Math.random()+10000000);d+="&millis="+new Date().getTime();if(b.stylesheet){d+="&stylesheet="+this.escape(b.stylesheet)}if(b.cturl){d+="&encode="+parseInt(b.encode||0)}d+="&referrer="+this.escape((window!=top&&window.location.ancestorOrigins)?window.location.ancestorOrigins[window.location.ancestorOrigins.length-1]:document.location);if(b.cturl){d+="&cturl="+this.escape(b.cturl)}return d},listen:function(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{c.attachEvent("on"+b,a)}},polled:0,poll:function(a,b){if(_avp&&_avp.length>0){this.load(a)}else{if(b<20){setTimeout(function(){AVP.poll(a,(b+1))},((b+1)*50))}else{this.polled=1}}},loaded:0,cookies:true,viewabilityRegistry:[],isPageVisible:function(){var a=function(){var d=["webkit","moz","ms","o"];if("hidden" in document){return"hidden"}for(var c=0;c<d.length;c++){if((d[c]+"Hidden") in document){return d[c]+"Hidden"}}return null};var b=a();return(b)?!document[b]:true},isCreativeVisible:function(f,b){if(f=="body"){return true}var m=this.getHtml5ViewportSize();if(b&&b.length>0&&document.getElementById(b+"_iframe")){var l=document.getElementById(b);var i=document.getElementById(b+"_iframe");var g=(i.contentWindow)?i.contentWindow.document:(i.contentDocument||i.document);var j=g.getElementById(f);if(j){var q=l.getBoundingClientRect();var k=j.getBoundingClientRect();var a=(k.left+q.left);var d=(k.top+q.top);var n=(k.right+q.left);var h=(k.bottom+q.top);var c=j.clientWidth;var p=j.clientHeight;return(c>0&&p>0&&((d>=0&&d<m.height&&((a>=0&&a<m.width)||(n>0&&n<=m.width)))||(h>=0&&h<=m.height&&((a>=0&&a<m.width)||(k>0&&k<=m.width)))))}else{return false}}else{var e=document.getElementById(f);if(e){var o=e.getBoundingClientRect();var c=e.clientWidth;var p=e.clientHeight;return(c>0&&p>0&&((o.top>=0&&o.top<m.height&&((o.left>=0&&o.left<m.width)||(o.right>0&&o.right<=m.width)))||(o.bottom>=0&&o.bottom<=m.height&&((o.left>=0&&o.left<m.width)||(o.right>0&&o.right<=m.width)))))}else{return false}}},isCreativeViewable:function(q,n){if(q=="body"){return true}var u=this.getHtml5ViewportSize();if(n&&n.length>0&&document.getElementById(n+"_iframe")){var f=document.getElementById(n);var i=document.getElementById(n+"_iframe");var j=(i.contentWindow)?i.contentWindow.document:(i.contentDocument||i.document);var e=j.getElementById(q);if(e){var s=f.getBoundingClientRect();var m=e.getBoundingClientRect();var o=(m.left+s.left);var w=(m.top+s.top);var h=(m.right+s.left);var v=(m.bottom+s.top);var l=e.clientWidth;var t=e.clientHeight;var d=(l>0&&t>0&&((w>=0&&w<u.height&&((o>=0&&o<u.width)||(h>0&&h<=u.width)))||(v>=0&&v<=u.height&&((o>=0&&o<u.width)||(m>0&&m<=u.width)))));if(d){var p=(o>=0&&o<u.width)?Math.min((u.width-o),l):m;var k=(w>=0&&w<u.height)?Math.min((u.height-w),t):v;var a=(p*k);var r=(l*t);var g=(r>=242500)?(0.3*r):(0.5*r);if(a<g){d=false}}return d}else{return false}}else{var c=document.getElementById(q);if(c){var b=c.getBoundingClientRect();var l=c.clientWidth;var t=c.clientHeight;var d=(l>0&&t>0&&((b.top>=0&&b.top<u.height&&((b.left>=0&&b.left<u.width)||(b.right>0&&b.right<=u.width)))||(b.bottom>=0&&b.bottom<=u.height&&((b.left>=0&&b.left<u.width)||(b.right>0&&b.right<=u.width)))));if(d){var p=(b.left>=0&&b.left<u.width)?Math.min((u.width-b.left),l):b.right;var k=(b.top>=0&&b.top<u.height)?Math.min((u.height-b.top),t):b.bottom;var a=(p*k);var r=(l*t);var g=(r>=242500)?(0.3*r):(0.5*r);if(a<g){d=false}}return d}else{return false}}},viewabilityLoaded:false,viewabilitySupport:true,viewabilityInit:function(){var a=function(){if(AVP.viewabilityRegistry){var e=AVP.viewabilityRegistry.length;for(var d=0;d<e;d++){var c=AVP.viewabilityRegistry[d];if(AVP.isPageVisible()&&AVP.isCreativeViewable(c.tagId,c.parentTagId)){c.startViewableTimeTracking()}else{c.finishViewableTimeTracking()}}}};AVP.listen(window,"DOMContentLoaded",a);AVP.listen(window,"load",a);AVP.listen(window,"resize",a);AVP.listen(window,"visibilitychange",a);AVP.listen(window,"scroll",a);setInterval(a,1000);var b=function(){if(AVP.viewabilityRegistry){var f=null;var j=[];var e=AVP.viewabilityRegistry.length;for(var d=0;d<e;d++){var c=AVP.viewabilityRegistry[d];f=c.beaconUrl;c.finishViewableTimeTracking();var h=c.sendViewableTimeEvent(c);if(h>=1000){j.push(c.beaconData+"&elapsed="+Math.round(h/1000))}}if(j.length>0){var g=j.join("|");f=f.replace("[type]","viewable");f=f.replace("[name]","time");if("sendBeacon" in navigator){navigator.sendBeacon(f,g)}else{var i=("XMLHttpRequest" in window)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");i.open("POST",f,false);i.setRequestHeader("Accept","*/*");i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");i.responseType="text/plain";i.send(g)}}}};AVP.listen(window,"unload",b);AVP.viewabilityLoaded=true},load:function(b){try{if(localStorage){if(localStorage.getItem("AVP_UUID")){b=localStorage.getItem("AVP_UUID")}else{localStorage.setItem("AVP_UUID",b)}}}catch(c){this.cookies=false}if(_avp&&_avp.length>0){while(_avp.length>0){var a=_avp.shift();a.uuid=b;if(a.renderer){this.multi(a)}else{if(a.zid){this.single("zone?zid="+a.zid,a)}else{if(a.cid){this.single("campaign?cid="+a.cid,a)}else{if(a.mid){this.single("media?mid="+a.mid,a)}}}}}}if(!this.loaded){this.loaded=1;this.listen(document,"DOMContentLoaded",function(){AVP.load(b)});this.listen(window,"load",function(){AVP.load(b)})}if(!this.polled){setTimeout(function(){AVP.poll(b,1)},50)}if(!this.viewabilityLoaded){this.viewabilityInit()}},getHtml5ViewportSize:function(){var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0);var b=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(document.compatMode&&document.compatMode=="BackCompat"){a=Math.max(document.body.clientWidth,window.innerWidth||0);b=Math.max(document.body.clientHeight,window.innerHeight||0)}return{width:a,height:b}},openHtml5Lightbox:function(b,c,h,e){var a=document.getElementById(b);var i=document.getElementById(b+"_iframe");if(a&&i){var f=document.getElementById(b+"_fader");if(!f){f=document.createElement("div")}f.setAttribute("id",b+"_fader");f.setAttribute("style","position: fixed; top: 0%; left: 0%; width: 100%; height: 100%; background-color: "+e+"; z-index: 2000000; opacity: 0; transition: opacity 0.5s ease-in-out; -moz-transition: opacity 0.5s ease-in-out; -o-transition: opacity 0.5s ease-in-out; -webkit-transition: opacity 0.5s ease-in-out; visibility: hidden");document.body.appendChild(f);document.body.style.overflow="hidden";f.style.visibility="visible";setTimeout(function(){f.style.opacity="0.8"},10);a.style.position="absolute";a.style.zIndex="2000001";a.style.width=c+"px";a.style.height=h+"px";i.style.width=c+"px";i.style.height=h+"px";var d=function(){f.style.height="100%";g()};var g=function(){var k=document.getElementById(b+"_fader");if(k&&k.style.visibility=="visible"){var j=AVP.getHtml5ViewportSize();if(c<j.width&&h<j.height){a.style.left=((k.clientWidth-c)/2)+"px";a.style.top=Math.max(((k.clientHeight-h)/2),40)+"px"}else{a.style.width=j.width+"px";a.style.height=j.height+"px";a.style.left=0;a.style.top=0;i.style.width=j.width+"px";i.style.height=j.height+"px"}k.style.height=(j.height>4320)?j.height+"px":"4320px"}else{window.removeEventListener("resize",d);window.removeEventListener("orientationchange",d)}};g();window.addEventListener("resize",d);window.addEventListener("orientationchange",d)}},closeHtml5Lightbox:function(c,b,a){var f=document.getElementById(c);var e=document.getElementById(c+"_iframe");if(f&&e){f.style.width=b+"px";f.style.height=a+"px";f.style.position="relative";f.style.left=0;f.style.top=0;f.style.zIndex="1";e.style.width=b+"px";e.style.height=a+"px";document.body.style.overflow="visible"}var d=document.getElementById(c+"_fader");if(d){d.style.visibility="hidden";document.body.removeChild(d)}},enterHtml5Fullscreen:function(c,b){var a=this.getHtml5ViewportSize();this.openHtml5Lightbox(c,a.width,a.height,b)},exitHtml5Fullscreen:function(c,b,a){this.closeHtml5Lightbox(c,b,a)}};(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=AVP.base()+"/servlet/tagger/"+Math.floor(89999999*Math.random()+10000000)+"/"+new Date().getTime();var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();function AVP_ActivateFlash(b,a){b.writeln(a)}function AVP_ActivateFlashByVersion(d,b,a,f){var m=-1;var g=navigator.userAgent.toLowerCase();if(g.match(/chrome\/(4[5-9]|[5-9][0-9]|[1-9][0-9][0-9])\./)){m=0}else{if(navigator.plugins!=null&&navigator.plugins.length>0&&navigator.plugins["Shockwave Flash"]){var l=navigator.plugins["Shockwave Flash"].description;var c=l.split(" ");var j=c[2].split(".");m=j[0]}else{if(g.indexOf("msie")!=-1&&g.indexOf("win")!=-1&&g.indexOf("opera")==-1){for(var h=17;h>=3;h--){if(m==-1){try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+h);m=h}catch(e){}}}}}}d.writeln((m>=f||(!a||a.length==0))?b:a)};